<?xml version="1.0" encoding="UTF-8"?>

<features>
    <feature name="amq-pool" version="${project.version}">
        <feature version="${activemq.version}">activemq-client</feature>
        <bundle>mvn:org.opennms.ng/amq-pool/${project.version}</bundle>
    </feature>

    <feature name="eventd" version="${project.version}">
        <!-- Shaded bundles to incorporate Castor into OSGi -->

        <feature>spring-jdbc</feature>
        <feature>spring-orm"</feature>

        <bundle>mvn:org.opennms.ng/amq-pool/${project.version}</bundle>

        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.oro</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jakarta-regexp</bundle>
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.castor</bundle>
        <bundle>mvn:commons-io/commons-io/${commons-io.version}</bundle>
        <bundle>mvn:commons-dbcp/commons-dbcp/${commons-dbcp.version}</bundle>
        <bundle>mvn:org.opennms.ng/enhydra-xa/${project.version}</bundle>
        <bundle>mvn:org.opennms.bundles/postgresql/${project.version}</bundle>

        <bundle>mvn:org.opennms.bundles/c3p0/${c3p0.version}</bundle>
        <bundle>mvn:org.opennms.ng/datasource/${project.version}</bundle>

        <bundle>mvn:org.opennms.bundles/dnsjava/${project.version}</bundle>
        <bundle>mvn:org.opennms.bundles/opennms-util/${opennms.version}</bundle>
        <bundle>mvn:org.opennms.bundles/opennms-core-snmp-api/${opennms.version}</bundle>

        <bundle>mvn:org.opennms.bundles/opennms-model/${opennms.version}</bundle>

        <bundle>mvn:org.opennms.bundles/opennms-config-model/${opennms.version}</bundle>

        <bundle>mvn:org.opennms.ng/eventconfig/${project.version}</bundle>

        <bundle>mvn:org.opennms.ng/eventd/${project.version}</bundle>

    </feature>

    <feature name="datasource" version="${project.version}">
        <bundle>mvn:commons-dbcp/commons-dbcp/${commons-dbcp.version}</bundle>
        <bundle>mvn:org.opennms.ng/enhydra-xa/${project.version}</bundle>
        <bundle>mvn:org.hsqldb/hsqldb/${hsqldb.version}</bundle>
        <bundle>mvn:org/opennms/bundles/postgresql/${project.version}</bundle>
        <bundle>mvn:org.opennms.ng/opennms-datasource/${project.version}</bundle>
    </feature>

    <feature name="hsqldb-test-server" version="${project.version}">
        <bundle>mvn:org.hsqldb/hsqldb/${hsqldb.version}</bundle>
        <bundle>mvn:org.opennms.ng/hsqldb-test-server/${project.version}</bundle>
    </feature>

    <feature name="persistence" version="${project.version}">
        <bundle>mvn:org.apache.openjpa/openjpa/${openjpa.version}</bundle>
        <feature version="${project.version}">datasource</feature>
        <feature>transaction</feature>
        <feature>jndi</feature>
        <bundle dependency='true'>mvn:commons-collections/commons-collections/${commons-collections.version}</bundle>
        <feature version="${aries.blueprint.version}">jpa</feature>
        <bundle>mvn:org.opennms.ng/persistence/${project.version}</bundle>
    </feature>

</features>
